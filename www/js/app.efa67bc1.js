(function(t){function e(e){for(var s,a,r=e[0],c=e[1],l=e[2],v=0,f=[];v<r.length;v++)a=r[v],o[a]&&f.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==o[c]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},o={app:0},n=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push(["9be5","chunk-vendors"]),i()})({"098f":function(t,e,i){"use strict";var s=i("099e"),o=i.n(s);o.a},"099e":function(t,e,i){},"1aaa":function(t,e,i){"use strict";var s=i("cdda"),o=i.n(s);o.a},"20ff":function(t,e,i){},"238f":function(t,e,i){"use strict";var s=i("7858"),o=i.n(s);o.a},2560:function(t,e,i){},"2dc1":function(t,e,i){"use strict";var s=i("6bc6"),o=i.n(s);o.a},5597:function(t,e,i){"use strict";var s=i("db64"),o=i.n(s);o.a},"596a":function(t,e,i){},"5cb0":function(t,e,i){"use strict";var s=i("2560"),o=i.n(s);o.a},"6bc6":function(t,e,i){},"6e72":function(t,e,i){t.exports=i.p+"img/hearth_logo_multicolor.c62428cf.png"},7858:function(t,e,i){},7912:function(t,e,i){"use strict";var s=i("8421"),o=i.n(s);o.a},"7a39":function(t,e,i){},8421:function(t,e,i){},8874:function(t,e,i){"use strict";var s=i("edd3"),o=i.n(s);o.a},"8e47":function(t,e,i){"use strict";var s=i("7a39"),o=i.n(s);o.a},"8faf":function(t,e,i){},9133:function(t,e,i){},"9be5":function(t,e,i){"use strict";i.r(e);i("14c6"),i("08c1"),i("4842"),i("d9fc");var s=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i(t.layout,{tag:"component"},[i("router-view")],1)],1)},n=[],a="default",r={computed:{layout:function(){return(this.$route.meta.layout||a)+"-layout"}},mounted:function(){window.onSpotifyWebPlaybackSDKReady=function(){}}},c=r,l=(i("2dc1"),i("2877")),u=Object(l["a"])(c,o,n,!1,null,null,null),v=u.exports,f=i("8c4f"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("homelogo",{staticClass:"logo"}),t.error?i("div",{staticClass:"error"},[t._v(" "+t._s(t.error))]):t._e(),i("form",{on:{submit:function(e){return e.preventDefault(),t.joinRoom()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"Enter code"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),i("button",{staticClass:"btn btn-join",attrs:{type:"submit"}},[t._v("Join room")])])],1)},p=[],h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"logo-img",attrs:{src:i("6e72")}}),s("h1",{staticClass:"app-title"},[t._v("Hearth")]),s("div",{staticClass:"app-subtitle"},[t._v("Pull up a chair by the Hearth!")])])}],_=(i("5cb0"),{}),m=Object(l["a"])(_,h,y,!1,null,"cae9be98",null),g=m.exports,b=i("5f30"),S=i.n(b),T=i("b47a"),k=(i("e71f"),{apiKey:"AIzaSyB615dPGvETRnj250EK4q1S2lftWIMWJMQ",authDomain:"hearth-40878.firebaseapp.com",databaseURL:"https://hearth-40878.firebaseio.com",projectId:"hearth-40878",storageBucket:"hearth-40878.appspot.com",messagingSenderId:"852920121469"});s["default"].use(S.a),T["initializeApp"](k);var O=T,I=T["firestore"](),P={components:{homelogo:g},data:function(){return{code:"",error:""}},methods:{joinRoom:function(){var t=this;I.collection("rooms").doc(this.code).get().then(function(e){e.exists?t.$router.push({path:"/room/".concat(t.code,"/youtube")}):t.error="This room does not exist"}).catch(function(){t.error="There was a problem trying to join the room."})}}},C=P,F=(i("c8cf"),Object(l["a"])(C,d,p,!1,null,"e213605a",null)),$=F.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view")],1)},A=[],N={created:function(){this.setNav()},methods:{setNav:function(){this.$parent.$parent.items=[{title:"Search",icon:"search",link:"youtube/"},{title:"Playlist",icon:"playlist_play",link:"youtube/playlist"},{title:"History",icon:"history",link:"youtube/history"},{title:"Favourites",icon:"star",link:"youtube/favourites"}]}}},L=N,Y=Object(l["a"])(L,E,A,!1,null,null,null),V=Y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.accessToken?i("router-view"):t._e(),t.accessToken?t._e():i("p",{staticClass:"disclaimer"},[t._v("By logging in with Spotify, you grant the app access to your information and let others search and play songs on your account. ")]),t.accessToken?t._e():i("div",{staticClass:"btn-container"},[i("a",{staticClass:"btn btn-login",attrs:{href:"https://hearthapp.herokuapp.com/api/v1/spotify/login?room="+this.$route.params.roomid}},[i("v-icon",[t._v("$vuetify.icons.spotify")]),t._v(" Login with Spotify")],1)])],1)},w=[],D=i("bc3a"),j=i.n(D),R={created:function(){this.setNav(),setTimeout(this.setToken(),1e3)},computed:{accessToken:function(){return this.$store.getters["accessToken"]}},methods:{setNav:function(){this.$parent.$parent.items=[{title:"Search",icon:"search",link:"spotify/"},{title:"Playlist",icon:"playlist_play",link:"spotify/playlist"},{title:"History",icon:"history",link:"spotify/history"},{title:"Favourites",icon:"star",link:"spotify/favourites"}]},login:function(){j.a.get("/api/v1/spotify/login")},setToken:function(){this.$route.query.access_token&&!this.accessToken&&this.$store.dispatch("SET_TOKENS",this.$route.query)}}},U=R,J=(i("d2e0"),Object(l["a"])(U,x,w,!1,null,"70a63514",null)),M=J.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("form",{staticClass:"search",on:{submit:function(e){return e.preventDefault(),t.getVideos(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search videos"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),i("button",{attrs:{type:"submit"}},[i("v-icon",[t._v("search")])],1)]),t.loading?i("div",[i("spinner")],1):i("ul",{attrs:{id:"results"}},t._l(t.results,function(e,s){return i("li",{key:s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.snippet.thumbnails.default.url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title.length>50?e.snippet.title.substring(0,50)+"...":e.snippet.title))]),i("div",{staticClass:"channel"},[t._v(t._s(e.snippet.channelTitle))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0)])},B=[],Q=(i("96cf"),i("3b8d")),H=(i("d25f"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),K=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lds-ring"},[i("div"),i("div"),i("div"),i("div")])}],q=(i("b396"),{}),X=Object(l["a"])(q,H,K,!1,null,"f0d3c224",null),z=X.exports,W={components:{spinner:z},data:function(){return{results:[],searchQuery:"",loading:!1,favs:[]}},created:function(){this.setTitle()},mounted:function(){if(localStorage.getItem("videos"))try{this.favs=JSON.parse(localStorage.getItem("videos"))}catch(t){localStorage.removeItem("videos")}},computed:{playlist:function(){return this.$store.getters["playlist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id.videoId===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id.videoId===e});return 1===i.length}return!1}}},methods:{getVideos:function(){var t=Object(Q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.active=-1,this.loading=!0,t.next=4,j.a.get("https://hearthapp.herokuapp.com/api/v1/youtube/search?q=".concat(this.searchQuery));case 4:e=t.sent,this.results=e.data,this.loading=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addToPlaylist:function(t){this.$store.dispatch("ADD_TO_YOUTUBE_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_YOUTUBE_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("videos",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id.videoId===t.id.videoId){this.favs.splice(e,1);break}localStorage.setItem("videos",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="Search"}}},Z=W,tt=(i("1aaa"),Object(l["a"])(Z,G,B,!1,null,"5c4a88be",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.currentVideo?i("section",{staticClass:"currentVideo"},[i("div",{staticClass:"subtitle"},[t._v("Current Song")]),t.currentVideo.snippet?i("div",{staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:t.currentVideo.snippet.thumbnails.default.url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(t.currentVideo.snippet.title.length>50?t.currentVideo.snippet.title.substring(0,50)+"...":t.currentVideo.snippet.title))]),i("div",{staticClass:"channel"},[t._v(t._s(t.currentVideo.snippet.channelTitle))])])]):t._e(),t.currentVideo.id?i("div",{staticClass:"buttons"},[t.isFavourite(t.currentVideo.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(e){return t.removeFromFavourites(t.currentVideo)}}},[t._v("star")]):t._e(),t.isFavourite(t.currentVideo.id.videoId)?t._e():i("v-icon",{on:{click:function(e){return t.addToFavourites(t.currentVideo)}}},[t._v("star_border")]),t.playing?t._e():i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.play()}}},[t._v("play_circle_outline")]),t.playing?i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.pause()}}},[t._v("pause_circle_outline")]):t._e(),i("v-icon",{on:{click:function(e){return t.skip()}}},[t._v("skip_next")])],1):t._e()]):t._e(),t.currentVideo?t._e():i("div",{staticClass:"buttons"},[i("v-icon",[t._v("star_border")]),t.playing?t._e():i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.play()}}},[t._v("play_circle_outline")]),t.playing?i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.pause()}}},[t._v("pause_circle_outline")]):t._e(),i("v-icon",{on:{click:function(e){return t.skip()}}},[t._v("skip_next")])],1),i("div",{staticClass:"subtitle"},[t._v("Next up")]),t.playlist.length>0?i("draggable",{attrs:{id:"results"},model:{value:t.playlist,callback:function(e){t.playlist=e},expression:"playlist"}},[i("transition-group",t._l(t.playlist,function(e,s){return i("div",{key:"key-"+s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.snippet.thumbnails.default.url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title.length>50?e.snippet.title.substring(0,50)+"...":e.snippet.title))]),i("div",{staticClass:"channel"},[t._v(t._s(e.snippet.channelTitle))])]),i("div",{staticClass:"actions"},[i("v-icon",{on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("clear")]),t.isFavourite(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0)],1):t._e()],1)},st=[],ot=i("310e"),nt=i.n(ot),at={components:{draggable:nt.a},data:function(){return{favs:[],dragging:!1,enabled:!0}},created:function(){this.setTitle()},mounted:function(){if(localStorage.getItem("videos"))try{this.favs=JSON.parse(localStorage.getItem("videos"))}catch(t){localStorage.removeItem("videos")}},computed:{currentVideo:function(){return this.$store.getters["currentVideo"]},active:function(){return this.$store.getters["active"]},device:function(){return this.$store.getters["spotifyDevice"]},playing:function(){return this.$store.getters["playing"]},playlist:{set:function(t){this.$store.dispatch("UPDATE_YOUTUBE_PLAYLIST",t)},get:function(){return this.$store.getters["playlist"]}},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id.videoId===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id.videoId===e});return 1===i.length}return!1}}},methods:{removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_YOUTUBE_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("videos",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id.videoId===t.id.videoId){this.favs.splice(e,1);break}localStorage.setItem("videos",JSON.stringify(this.favs))},play:function(){"youtube"!==this.active?(j.a.put("https://api.spotify.com/v1/me/player/pause?device_id=".concat(this.device)),this.$store.dispatch("SONG_PLAYING",!1),this.$store.dispatch("SET_ACTIVE","youtube"),this.$store.dispatch("PLAY_VIDEO")):this.$store.dispatch("PLAY_VIDEO")},pause:function(){this.$store.dispatch("PAUSE_VIDEO")},skip:function(){"youtube"!==this.active?(j.a.put("https://api.spotify.com/v1/me/player/pause?device_id=".concat(this.device)),this.$store.dispatch("SONG_PLAYING",!1),this.$store.dispatch("SET_ACTIVE","youtube"),this.$store.dispatch("PLAY_NEXT_VIDEO")):this.$store.dispatch("PLAY_NEXT_VIDEO")},setTitle:function(){this.$parent.$parent.$parent.title="Playlist"}}},rt=at,ct=(i("098f"),Object(l["a"])(rt,it,st,!1,null,"19acd464",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.history.length>0?i("ul",{attrs:{id:"results"}},t._l(t.history,function(e,s){return i("li",{key:"key-"+s,staticClass:"result"},[e.snippet?[i("img",{staticClass:"thumbnail",attrs:{src:e.snippet.thumbnails.default.url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title.length>50?e.snippet.title.substring(0,50)+"...":e.snippet.title))]),i("div",{staticClass:"channel"},[t._v(t._s(e.snippet.channelTitle))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)]:t._e()],2)}),0):t._e()])},vt=[],ft={components:{},data:function(){return{favs:[]}},mounted:function(){if(localStorage.getItem("videos"))try{this.favs=JSON.parse(localStorage.getItem("videos"))}catch(t){localStorage.removeItem("videos")}},computed:{playlist:function(){return this.$store.getters["playlist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id.videoId===e});return 1===i.length}},history:function(){return this.$store.getters["history"]},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id.videoId===e});return 1===i.length}return!1}}},created:function(){this.setTitle()},methods:{addToPlaylist:function(t){this.$store.dispatch("ADD_TO_YOUTUBE_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_YOUTUBE_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("videos",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id.videoId===t.id.videoId){this.favs.splice(e,1);break}localStorage.setItem("videos",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="History"}}},dt=ft,pt=(i("238f"),Object(l["a"])(dt,ut,vt,!1,null,"76e60cf7",null)),ht=pt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("ul",{attrs:{id:"results"}},t._l(t.results,function(e,s){return i("li",{key:s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.snippet.thumbnails.default.url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title.length>50?e.snippet.title.substring(0,50)+"...":e.snippet.title))]),i("div",{staticClass:"channel"},[t._v(t._s(e.snippet.channelTitle))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id.videoId)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id.videoId)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0)])},_t=[],mt={data:function(){return{results:[],searchQuery:"",loading:!1,favs:[]}},mounted:function(){if(localStorage.getItem("videos"))try{this.favs=JSON.parse(localStorage.getItem("videos"))}catch(t){localStorage.removeItem("videos")}},computed:{playlist:function(){return this.$store.getters["playlist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id.videoId===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id.videoId===e});return 1===i.length}return!1}}},created:function(){this.setTitle(),this.getVideos()},methods:{getVideos:function(){this.active=-1,this.loading=!0;var t=JSON.parse(localStorage.getItem("videos"));this.results=t,this.loading=!1},addToPlaylist:function(t){this.$store.dispatch("ADD_TO_YOUTUBE_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_YOUTUBE_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("videos",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id.videoId===t.id.videoId){this.favs.splice(e,1);break}for(var i=0;i<this.results.length;i++)if(this.results[i].id.videoId===t.id.videoId){this.results.splice(i,1);break}localStorage.setItem("videos",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="Favourites"}}},gt=mt,bt=(i("c7f5"),Object(l["a"])(gt,yt,_t,!1,null,"a40adb8c",null)),St=bt.exports,Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("form",{staticClass:"search",on:{submit:function(e){return e.preventDefault(),t.getVideos(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search songs"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),i("button",{attrs:{type:"submit"}},[i("v-icon",[t._v("search")])],1)]),t.loading?i("div",[i("spinner")],1):i("ul",{attrs:{id:"results"}},t._l(t.results,function(e,s){return i("li",{key:s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.album.images[1].url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.name>50?e.name.substring(0,50)+"...":e.name))]),i("div",{staticClass:"channel"},[t._v(t._s(e.artists[0].name))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0)])},kt=[],Ot={components:{spinner:z},data:function(){return{results:[],searchQuery:"",loading:!1,favs:[]}},mounted:function(){if(localStorage.getItem("songs"))try{this.favs=JSON.parse(localStorage.getItem("songs"))}catch(t){localStorage.removeItem("songs")}},computed:{playlist:function(){return this.$store.getters["spotifyPlaylist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id===e});return 1===i.length}return!1}}},created:function(){this.setTitle()},methods:{getVideos:function(){var t=Object(Q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.active=-1,this.loading=!0,t.next=4,j.a.get("https://api.spotify.com/v1/search?q=".concat(encodeURIComponent(this.searchQuery),"&type=track&limit=10"));case 4:e=t.sent,this.results=e.data.tracks.items,this.loading=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addToPlaylist:function(t){this.$store.dispatch("ADD_TO_SPOTIFY_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_SPOTIFY_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("songs",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id===t.id){this.favs.splice(e,1);break}localStorage.setItem("songs",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="Search"}}},It=Ot,Pt=(i("c0a2"),Object(l["a"])(It,Tt,kt,!1,null,"36d9b61c",null)),Ct=Pt.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.currentSong?i("section",{staticClass:"currentSong"},[i("div",{staticClass:"subtitle"},[t._v("Current Song")]),t.currentSong?i("div",{staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:t.currentSong.album.images[1].url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(t.currentSong.name))]),i("div",{staticClass:"channel"},[t._v(t._s(t.currentSong.artists[0].name))])])]):t._e(),i("div",{staticClass:"buttons"},[t.isFavourite(t.currentSong.id)?i("v-icon",{staticClass:"red-color",on:{click:function(e){return t.removeFromFavourites(t.currentSong)}}},[t._v("star")]):t._e(),t.isFavourite(t.currentSong.id)?t._e():i("v-icon",{on:{click:function(e){return t.addToFavourites(t.currentSong)}}},[t._v("star_border")]),t.spotifyPlaying?t._e():i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.play()}}},[t._v("play_circle_outline")]),t.spotifyPlaying?i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.pause()}}},[t._v("pause_circle_outline")]):t._e(),i("v-icon",{on:{click:function(e){return t.skip()}}},[t._v("skip_next")])],1)]):i("div",{staticClass:"buttons"},[i("v-icon",[t._v("star_border")]),t.spotifyPlaying?t._e():i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.play()}}},[t._v("play_circle_outline")]),t.spotifyPlaying?i("v-icon",{staticClass:"toggle-play",on:{click:function(e){return t.pause()}}},[t._v("pause_circle_outline")]):t._e(),i("v-icon",{on:{click:function(e){return t.skip()}}},[t._v("skip_next")])],1),i("div",{staticClass:"subtitle"},[t._v("Next up")]),t.playlist.length>0?i("draggable",{attrs:{id:"results"},model:{value:t.playlist,callback:function(e){t.playlist=e},expression:"playlist"}},[i("transition-group",t._l(t.playlist,function(e,s){return i("div",{key:"key-"+s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.album.images[1].url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.name.length>50?e.name.substring(0,50)+"...":e.name))]),i("div",{staticClass:"channel"},[t._v(t._s(e.artists[0].name))])]),i("div",{staticClass:"actions"},[i("v-icon",{on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("clear")]),t.isFavourite(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0)],1):t._e()],1)},$t=[],Et={components:{draggable:nt.a},data:function(){return{favs:[],dragging:!1,enabled:!0}},created:function(){this.setTitle()},mounted:function(){if(localStorage.getItem("songs"))try{this.favs=JSON.parse(localStorage.getItem("songs"))}catch(t){localStorage.removeItem("songs")}},computed:{currentSong:function(){return this.$store.getters["currentSong"]},active:function(){return this.$store.getters["active"]},spotifyPlaying:function(){return this.$store.getters["spotifyPlaying"]},playlist:{set:function(t){this.$store.dispatch("UPDATE_SPOTIFY_PLAYLIST",t)},get:function(){return this.$store.getters["spotifyPlaylist"]}},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id===e});return 1===i.length}return!1}}},methods:{removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_SPOTIFY_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("songs",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id===t.id){this.favs.splice(e,1);break}localStorage.setItem("songs",JSON.stringify(this.favs))},play:function(){"spotify"!==this.active?(this.$store.dispatch("PAUSE_VIDEO"),this.$store.dispatch("SET_ACTIVE","spotify"),this.$store.dispatch("VIDEO_PLAYING",!1),this.$store.dispatch("PLAY_SONG")):this.$store.dispatch("PLAY_SONG")},pause:function(){this.$store.dispatch("PAUSE_SONG")},skip:function(){"spotify"!==this.active?(this.$store.dispatch("SET_ACTIVE","spotify"),this.$store.dispatch("VIDEO_PLAYING",!1),this.$store.dispatch("PLAY_NEXT_SONG")):this.$store.dispatch("PLAY_NEXT_SONG")},setTitle:function(){this.$parent.$parent.$parent.title="Playlist"}}},At=Et,Nt=(i("8e47"),Object(l["a"])(At,Ft,$t,!1,null,"12ad5619",null)),Lt=Nt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.history?i("ul",{attrs:{id:"results"}},t._l(t.history,function(e,s){return i("li",{key:s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.album.images[1].url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.name.length>50?e.name.substring(0,50)+"...":e.name))]),i("div",{staticClass:"channel"},[t._v(t._s(e.artists[0].name))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0):t._e()])},Vt=[],xt={data:function(){return{favs:[]}},mounted:function(){if(localStorage.getItem("songs"))try{this.favs=JSON.parse(localStorage.getItem("songs"))}catch(t){localStorage.removeItem("songs")}},computed:{playlist:function(){return this.$store.getters["spotifyPlaylist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id===e});return 1===i.length}},history:function(){return this.$store.getters["spotifyHistory"]},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id===e});return 1===i.length}return!1}}},created:function(){this.setTitle()},methods:{addToPlaylist:function(t){this.$store.dispatch("ADD_TO_SPOTIFY_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_SPOTIFY_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("songs",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id===t.id){this.favs.splice(e,1);break}localStorage.setItem("songs",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="History"}}},wt=xt,Dt=(i("8874"),Object(l["a"])(wt,Yt,Vt,!1,null,"3208ffaa",null)),jt=Dt.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.results?i("ul",{attrs:{id:"results"}},t._l(t.results,function(e,s){return i("li",{key:s,staticClass:"result"},[i("img",{staticClass:"thumbnail",attrs:{src:e.album.images[1].url}}),i("div",{staticClass:"details"},[i("div",{staticClass:"title"},[t._v(t._s(e.name>50?e.name.substring(0,50)+"...":e.name))]),i("div",{staticClass:"channel"},[t._v(t._s(e.artists[0].name))])]),i("div",{staticClass:"actions"},[t.inPlaylist(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromPlaylist(e)}}},[t._v("playlist_add_check")]):t._e(),t.inPlaylist(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToPlaylist(e)}}},[t._v("playlist_add")]),t.isFavourite(e.id)?i("v-icon",{staticClass:"red-color",on:{click:function(i){return t.removeFromFavourites(e)}}},[t._v("star")]):t._e(),t.isFavourite(e.id)?t._e():i("v-icon",{on:{click:function(i){return t.addToFavourites(e)}}},[t._v("star_border")])],1)])}),0):t._e()])},Ut=[],Jt={data:function(){return{results:[],favs:[]}},mounted:function(){if(localStorage.getItem("songs"))try{this.favs=JSON.parse(localStorage.getItem("songs"))}catch(t){localStorage.removeItem("songs")}},computed:{playlist:function(){return this.$store.getters["spotifyPlaylist"]},inPlaylist:function(){var t=this;return function(e){var i=t.playlist.filter(function(t){return t.id===e});return 1===i.length}},isFavourite:function(){var t=this;return function(e){if(t.favs){var i=t.favs.filter(function(t){return t.id===e});return 1===i.length}return!1}}},created:function(){this.setTitle(),this.getVideos()},methods:{getVideos:function(){var t=JSON.parse(localStorage.getItem("songs"));this.results=t},addToPlaylist:function(t){this.$store.dispatch("ADD_TO_SPOTIFY_PLAYLIST",t)},removeFromPlaylist:function(t){this.$store.dispatch("REMOVE_FROM_SPOTIFY_PLAYLIST",t)},addToFavourites:function(t){this.favs.push(t),localStorage.setItem("songs",JSON.stringify(this.favs))},removeFromFavourites:function(t){for(var e=0;e<this.favs.length;e++)if(this.favs[e].id===t.id){this.favs.splice(e,1);break}localStorage.setItem("songs",JSON.stringify(this.favs))},setTitle:function(){this.$parent.$parent.$parent.title="Favourites"}}},Mt=Jt,Gt=(i("7912"),Object(l["a"])(Mt,Rt,Ut,!1,null,"655ba8da",null)),Bt=Gt.exports;s["default"].use(f["a"]);var Qt,Ht=new f["a"]({routes:[{path:"",name:"apphome",component:$},{path:"/room/:roomid/youtube",name:"AppYoutube",meta:{layout:"navbars"},component:V,children:[{path:"",meta:{layout:"navbars"},component:et},{path:"playlist",meta:{layout:"navbars"},component:lt},{path:"history",meta:{layout:"navbars"},component:ht},{path:"favourites",meta:{layout:"navbars"},component:St}]},{path:"/room/:roomid/spotify",name:"AppSpotify",meta:{layout:"navbars"},component:M,children:[{path:"",meta:{layout:"navbars"},component:Ct},{path:"playlist",meta:{layout:"navbars"},component:Lt},{path:"history",meta:{layout:"navbars"},component:jt},{path:"favourites",meta:{layout:"navbars"},component:Bt}]}]}),Kt=i("75fc"),qt=i("bd86"),Xt=i("2f62"),zt="SET_ROOM",Wt="GET_DB_CHANGE";s["default"].use(Xt["a"]);var Zt=new Xt["a"].Store({state:{room:"",active:null,youtube:{playing:!1,current:null,playlist:[],history:[]},spotify:{playing:!1,device:null,current:null,playlist:[],history:[],access_token:null,refresh_token:null,expires_in:null}},mutations:(Qt={},Object(qt["a"])(Qt,zt,function(t,e){t.room=e}),Object(qt["a"])(Qt,Wt,function(t,e){e&&(e.active?t.active=e.active:t.active=null,e.spotify_device?t.spotify.device=e.spotify_device:t.spotify.device=null,t.youtube.current=e.youtube_now,t.youtube.playing=e.youtube_playing,e.youtube_playlist?t.youtube.playlist=e.youtube_playlist:t.youtube.playlist=[],e.youtube_history?t.youtube.history=e.youtube_history:t.youtube.history=[],t.spotify.current=e.spotify_now,t.spotify.playing=e.spotify_playing,e.spotify_playlist?t.spotify.playlist=e.spotify_playlist:t.spotify.playlist=[],e.spotify_history?t.spotify.history=e.spotify_history:t.spotify.history=[],e.spotify_access_token?t.spotify.access_token=e.spotify_access_token:t.spotify.access_token=null,e.spotify_refresh_token?t.spotify.refresh_token=e.spotify_refresh_token:t.spotify.refresh_token=null,e.spotify_expires_in?t.spotify.expires_in=e.spotify_expires_in:t.spotify.expires_in=null)}),Qt),actions:{ADD_TO_YOUTUBE_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({youtube_playlist:O.firestore.FieldValue.arrayUnion(e)})},REMOVE_FROM_YOUTUBE_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({youtube_playlist:O.firestore.FieldValue.arrayRemove(e)})},UPDATE_YOUTUBE_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({youtube_playlist:e})},ADD_TO_SPOTIFY_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_playlist:O.firestore.FieldValue.arrayUnion(e)})},REMOVE_FROM_SPOTIFY_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_playlist:O.firestore.FieldValue.arrayRemove(e)})},UPDATE_SPOTIFY_PLAYLIST:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_playlist:e})},SET_ACTIVE:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({active:e})},PLAY_VIDEO:function(t){var e=t.state,i=I.collection("rooms").doc(e.room),s=e.youtube.playlist,o=e.youtube.current,n=s[0],a=s.splice(1);o?(i.update({youtube_playing:!0}),this._vm.$socket.emit("playVideo",o.id.videoId)):(i.update({youtube_playing:!0,youtube_playlist:a,youtube_now:n}),this._vm.$socket.emit("playVideo",n.id.videoId))},PAUSE_VIDEO:function(t){var e=t.state,i=I.collection("rooms").doc(e.room);i.update({youtube_playing:!1}),this._vm.$socket.emit("pauseVideo")},PLAY_NEXT_VIDEO:function(t){var e=t.state,i=I.collection("rooms").doc(e.room),s=e.youtube.current,o=e.youtube.playlist,n=e.youtube.history;n.length>0?n.push(s):n=[s];var a=o[0],r=o.splice(1);i.update({youtube_playlist:r,youtube_now:a,youtube_history:n}),this._vm.$socket.emit("playVideo",a.id.videoId)},VIDEO_PLAYING:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({youtube_playing:e})},PLAY_SONG:function(t){var e=t.state,i=I.collection("rooms").doc(e.room),s=e.spotify.playlist,o=e.spotify.current,n=s[0],a=s.splice(1);o?(i.update({spotify_playing:!0}),this._vm.$socket.emit("playSong",{song:o,next:!1})):(i.update({spotify_playing:!0,spotify_playlist:a,spotify_now:n}),this._vm.$socket.emit("playSong",{song:n,next:!1}))},PAUSE_SONG:function(t){var e=t.state,i=I.collection("rooms").doc(e.room);i.update({spotify_playing:!1}),this._vm.$socket.emit("pauseSong")},PLAY_NEXT_SONG:function(t){var e,i=t.state,s=I.collection("rooms").doc(i.room),o=i.spotify.current,n=i.spotify.playlist,a=i.spotify.history;e=a.length>0?[].concat(Object(Kt["a"])(a),[o]):[o];var r=n[0],c=n.splice(1);s.update({spotify_playing:!0,spotify_playlist:c,spotify_now:r,spotify_history:e}),this._vm.$socket.emit("playSong",{song:r,next:!0})},SONG_PLAYING:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_playing:e})},SET_DEVICE:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_device:e})},SET_TOKENS:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_access_token:e.access_token,spotify_refresh_token:e.refresh_token,spotify_expires_in:e.expires_in})},SET_ACCESS_TOKEN:function(t,e){var i=t.state,s=I.collection("rooms").doc(i.room);s.update({spotify_access_token:e})},DELETE_TOKENS:function(t){var e=t.state,i=I.collection("rooms").doc(e.room);i.update({spotify_access_token:"",spotify_refresh_token:"",spotify_expires_in:""})}},getters:{room:function(t){return t.room},playing:function(t){return t.youtube.playing},playlist:function(t){return t.youtube.playlist},history:function(t){return t.youtube.history.reverse()},currentVideo:function(t){return t.youtube.current},spotifyDevice:function(t){return t.spotify.device},spotifyPlaying:function(t){return t.spotify.playing},spotifyPlaylist:function(t){return t.spotify.playlist},spotifyHistory:function(t){return t.spotify.history.reverse()},currentSong:function(t){return t.spotify.current},active:function(t){return t.active},accessToken:function(t){return t.spotify.access_token}}}),te=i("5132"),ee=i.n(te),ie=i("e0ec"),se=i.n(ie),oe=i("ce5b"),ne=i.n(oe),ae=(i("bf40"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)}),re=[],ce={},le=Object(l["a"])(ce,ae,re,!1,null,null,null),ue=le.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",[s("v-navigation-drawer",{staticClass:"sidenav",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("div",{staticClass:"logo-container"},[s("img",{staticClass:"logo",attrs:{src:i("6e72")}})]),s("div",{staticClass:"nav-list"},t._l(t.items,function(e){return s("router-link",{key:e.title,staticClass:"nav-list-item",attrs:{to:"/room/"+t.$route.params.roomid+"/"+e.link}},[s("v-icon",[t._v(t._s(e.icon))]),s("div",[t._v(t._s(e.title))])],1)}),1),s("router-link",{staticClass:"nav-exit",attrs:{to:""}},[s("v-icon",[t._v("exit_to_app")]),s("div",[t._v("Exit room")])],1)],1),s("v-content",{class:{"drawer-open":t.drawer}},[s("v-toolbar",{staticClass:"toolbar"},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),t._t("default"),s("div",{staticClass:"spacer"}),s("v-bottom-nav",{staticClass:"tabnav",class:{"push-bottomnav":t.drawer},attrs:{value:!0,absolute:""}},[s("v-btn",{attrs:{to:"/room/"+this.$route.params.roomid+"/youtube"}},[s("span",[t._v("Youtube")]),s("v-icon",[t._v("$vuetify.icons.youtube")])],1),s("v-divider",{attrs:{inset:"",vertical:""}}),s("v-btn",{attrs:{to:"/room/"+this.$route.params.roomid+"/spotify"}},[s("span",[t._v("Spotify")]),s("v-icon",[t._v("$vuetify.icons.spotify")])],1)],1)],2)],1)},fe=[],de=i("cebc"),pe={name:"Navbars",data:function(){return{drawer:null,items:[],title:"Hearth"}},computed:{state:function(){return this.$store.state}},created:function(){this.SET_ROOM(this.$route.params.roomid),this.getState(this.state.room),this.$socket.emit("app connect")},methods:Object(de["a"])({},Object(Xt["b"])(["SET_ROOM","GET_DB_CHANGE"]),{getState:function(t){var e=this;I.collection("rooms").doc(t).onSnapshot(function(t){e.GET_DB_CHANGE(t.data())})}})},he=pe,ye=(i("5597"),Object(l["a"])(he,ve,fe,!1,null,"a8769600",null)),_e=ye.exports;function me(){j.a.interceptors.request.use(function(t){var e=Zt.state.spotify.access_token;return e?(t.headers.Authorization="Bearer ".concat(e),t):t},function(t){return Promise.reject(t)});var t=j.a.interceptors.response.use(function(t){return t},function(e){return 401!==e.response.status?Promise.reject(e):(j.a.interceptors.response.eject(t),j.a.get("/api/v1/spotify/refresh?refresh_token=".concat(Zt.state.spotify.refresh_token)).then(function(t){return Zt.dispatch("SET_ACCESS_TOKEN",t.data.access_token),e.response.config.headers["Authorization"]="Bearer ".concat(t.data.access_token),j()(e.response.config)}).catch(function(t){return Promise.reject(t)}).finally(me))})}s["default"].component("default-layout",ue),s["default"].component("navbars-layout",_e),s["default"].config.productionTip=!1,s["default"].use(ne.a,{icons:{youtube:"fab fa-youtube",spotify:"fab fa-spotify",github:"fab fa-github"}}),s["default"].use(new ee.a({debug:!0,connection:"https://hearthapp.herokuapp.com"})),s["default"].use(se.a);var ge=me();new s["default"]({int:ge,router:Ht,store:Zt,render:function(t){return t(v)}}).$mount("#app")},b396:function(t,e,i){"use strict";var s=i("be60"),o=i.n(s);o.a},be60:function(t,e,i){},c0a2:function(t,e,i){"use strict";var s=i("8faf"),o=i.n(s);o.a},c7f5:function(t,e,i){"use strict";var s=i("596a"),o=i.n(s);o.a},c8cf:function(t,e,i){"use strict";var s=i("9133"),o=i.n(s);o.a},cdda:function(t,e,i){},d2e0:function(t,e,i){"use strict";var s=i("20ff"),o=i.n(s);o.a},db64:function(t,e,i){},edd3:function(t,e,i){}});
//# sourceMappingURL=app.efa67bc1.js.map